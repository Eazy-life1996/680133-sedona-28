let buttonShow=document.querySelector(".button"),formBlock=document.querySelector(".form-search"),arrivalDate=formBlock.querySelector(".arrival-user"),departureDate=formBlock.querySelector(".departure-user"),formValidation=formBlock.querySelector(".form-validation"),adultUsers=formBlock.querySelector(".user-adult"),childUsers=formBlock.querySelector(".user-child"),adultPlus=formBlock.querySelector(".plus-1"),adultMinus=formBlock.querySelector(".minus-1"),childPlus=formBlock.querySelector(".plus-2"),childMinus=formBlock.querySelector(".minus-2"),isStorageSupport=!0,storage="";try{adultUsers.value=localStorage.getItem("adultUsers"),childUsers.value=localStorage.getItem("childUsers")}catch(e){isStorageSupport=!1}formBlock.classList.remove("form-search"),buttonShow.addEventListener("click",function(){formBlock.classList.toggle("form-search"),arrivalDate.focus(),formBlock.classList.remove("form-error")}),adultPlus.addEventListener("click",function(){adultUsers.value=parseInt(adultUsers.value)+1}),adultMinus.addEventListener("click",function(){adultUsers.value=parseInt(adultUsers.value)-1}),childPlus.addEventListener("click",function(){childUsers.value=parseInt(childUsers.value)+1}),childMinus.addEventListener("click",function(){childUsers.value=parseInt(childUsers.value)-1}),formValidation.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value?isStorageSupport&&(localStorage.setItem("adultUsers",adultUsers.value),localStorage.setItem("childUsers",childUsers.value)):(e.preventDefault(),alert("Введите дату заезда и выезда"),formBlock.classList.remove("form-error"),formBlock.offsetWidth=formBlock.offsetWidth,formBlock.classList.add("form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&formBlock.classList.contains("form-search")&&(e.preventDefault(),formBlock.classList.remove(".form-error"),formBlock.classList.toggle("form-search-none"),formBlock.classList.toggle("form-search"))});